# ğŸ‰ MyTrabzon - Yeni Ã–zellikler

## âœ… Eklenen Ã–zellikler

### âš™ï¸ 1. AYARLAR SÄ°STEMÄ°

#### Profil AyarlarÄ±
- âœ… Ad, soyad, bio gÃ¼ncelleme
- âœ… Telefon numarasÄ± ekleme
- âœ… DoÄŸum tarihi ekleme
- âœ… Avatar (profil resmi) yÃ¼kleme

#### Gizlilik AyarlarÄ±
- âœ… Profil gÃ¶rÃ¼nÃ¼rlÃ¼ÄŸÃ¼ (Herkese AÃ§Ä±k / ArkadaÅŸlar / Ã–zel)
- âœ… Telefon numarasÄ± gÃ¶sterme/gizleme
- âœ… E-posta gÃ¶sterme/gizleme
- âœ… DoÄŸum tarihi gÃ¶sterme/gizleme
- âœ… MesajlaÅŸma izinleri (Herkes / ArkadaÅŸlar / Kimse)
- âœ… Etiketlenme izinleri (Herkes / ArkadaÅŸlar / Kimse)
- âœ… Ã‡evrimiÃ§i durum gÃ¶sterme/gizleme

#### Bildirim AyarlarÄ±
- âœ… Push bildirimler (Ana aÃ§ma/kapama)
  - PaylaÅŸÄ±mlar
  - Yorumlar
  - BeÄŸeniler
  - TakipÃ§iler
  - Mesajlar
  - Etkinlikler
  - YardÄ±m istekleri
- âœ… E-posta bildirimleri
  - Bildirim sÄ±klÄ±ÄŸÄ± (AnÄ±nda / GÃ¼nlÃ¼k / HaftalÄ±k / Asla)
  - Pazarlama e-postalarÄ±
- âœ… SMS bildirimleri
  - SMS aÃ§ma/kapama
  - Sadece Ã¶nemli bildirimler

#### GÃ¼venlik AyarlarÄ±
- âœ… Åifre deÄŸiÅŸtirme
- âœ… Ä°ki faktÃ¶rlÃ¼ kimlik doÄŸrulama
  - SMS ile doÄŸrulama
  - E-posta ile doÄŸrulama
  - Authenticator uygulamasÄ± ile doÄŸrulama
- âœ… Oturum yÃ¶netimi (Aktif cihazlarÄ± gÃ¶rme ve kapatma)

#### Hesap YÃ¶netimi
- âœ… Veri indirme (GDPR uyumlu - tÃ¼m verilerinizi JSON formatÄ±nda)
- âœ… Hesap silme talebi (7 gÃ¼n beklemeli silme sistemi)
- âœ… Hesap silme iptal etme

#### Ä°lÃ§e AyarlarÄ±
- âœ… Ana ilÃ§e seÃ§imi
- âœ… Ä°lgilenilen ilÃ§eler seÃ§imi
- âœ… TÃ¼m ilÃ§elerden iÃ§erik gÃ¶sterme/gizleme

---

### ğŸ” 2. KÄ°MLÄ°K DOÄRULAMA SÄ°STEMÄ°

#### Selfie DoÄŸrulama
- âœ… Selfie fotoÄŸrafÄ± yÃ¼kleme
- âœ… Admin onay sistemi
- âœ… DoÄŸrulama durumu takibi (Beklemede / OnaylandÄ± / Reddedildi)
- âœ… GÃ¼ven skoru hesaplama

#### Kimlik Belgesi DoÄŸrulama
- âœ… Kimlik Ã¶n yÃ¼z fotoÄŸrafÄ±
- âœ… Kimlik arka yÃ¼z fotoÄŸrafÄ± (opsiyonel)
- âœ… Kimlik ile selfie fotoÄŸrafÄ±
- âœ… Admin onay sistemi
- âœ… KiÅŸisel bilgi doÄŸrulama

---

### ğŸ“Š 3. Ä°STATÄ°STÄ°K PANELÄ°

#### KullanÄ±cÄ± Ä°statistikleri
- âœ… Toplam paylaÅŸÄ±m sayÄ±sÄ±
- âœ… TakipÃ§i sayÄ±sÄ±
- âœ… Takip edilen sayÄ±sÄ±
- âœ… Puan durumu
- âœ… KazanÄ±lan rozetler

#### Sistem Ä°statistikleri (Admin iÃ§in)
- âœ… Toplam kullanÄ±cÄ± sayÄ±sÄ±
- âœ… DoÄŸrulanmÄ±ÅŸ kullanÄ±cÄ± sayÄ±sÄ±
- âœ… BugÃ¼n aktif kullanÄ±cÄ±lar
- âœ… Toplam paylaÅŸÄ±m, yorum, etkinlik sayÄ±larÄ±
- âœ… Bekleyen doÄŸrulama talepleri
- âœ… Bekleyen raporlar
- âœ… Ä°lÃ§e bazlÄ± kullanÄ±cÄ± daÄŸÄ±lÄ±mÄ±

---

### ğŸ—‚ï¸ 4. VERÄ° YÃ–NETÄ°MÄ°

#### Veri Ä°ndirme (GDPR)
KullanÄ±cÄ±lar tÃ¼m verilerini indirebilir:
- âœ… Profil bilgileri
- âœ… Ayarlar
- âœ… PaylaÅŸÄ±mlar
- âœ… Yorumlar
- âœ… Ä°ÅŸletmeler
- âœ… Etkinlikler
- âœ… YardÄ±m istekleri
- âœ… Kampanyalar
- âœ… TakipÃ§i/Takip listesi

#### Hesap Silme
- âœ… 7 gÃ¼nlÃ¼k bekleme sÃ¼resi
- âœ… Silme talebini iptal etme
- âœ… Otomatik veri temizleme
- âœ… ZamanlayÄ±cÄ± sistemi

---

### ğŸš« 5. ENGELLEME SÄ°STEMÄ°

- âœ… KullanÄ±cÄ± engelleme
- âœ… Engelleme nedeni ekleme
- âœ… Engellenen kullanÄ±cÄ±lar listesi
- âœ… Engeli kaldÄ±rma

---

### ğŸ“± 6. OTURUM YÃ–NETÄ°MÄ°

- âœ… Aktif cihazlarÄ± gÃ¶rme
- âœ… Cihaz adÄ± ve tÃ¼rÃ¼
- âœ… IP adresi
- âœ… Son aktivite zamanÄ±
- âœ… Uzaktan oturum kapatma

---

### ğŸ” 7. GELÄ°ÅMÄ°Å ARAMA

- âœ… Ä°sim-soyisim ile kullanÄ±cÄ± arama
- âœ… Benzerlik algoritmasÄ± (fuzzy search)
- âœ… Ä°lÃ§e bazlÄ± filtreleme
- âœ… Tam metin arama (TÃ¼rkÃ§e dil desteÄŸi)

---

## ğŸ“¦ VERÄ°TABANI DEÄÄ°ÅÄ°KLÄ°KLERÄ°

### Yeni Tablolar
1. **user_settings** - KullanÄ±cÄ± ayarlarÄ± (gizlilik, bildirim, gÃ¼venlik)
2. **user_sessions** - Aktif oturum yÃ¶netimi
3. **selfie_verifications** - Selfie doÄŸrulama talepleri
4. **identity_verifications** - Kimlik belgesi doÄŸrulama
5. **blocked_users** - EngellenmiÅŸ kullanÄ±cÄ±lar

### GÃ¼ncellenmiÅŸ Tablolar
**user_profiles** tablosuna yeni alanlar:
- `date_of_birth` - DoÄŸum tarihi
- `verification_status` - DoÄŸrulama durumu
- `verification_documents` - DoÄŸrulama belgeleri
- `verified_at` - DoÄŸrulama tarihi
- `verification_notes` - DoÄŸrulama notlarÄ±
- `is_online` - Ã‡evrimiÃ§i durumu
- `last_seen_at` - Son gÃ¶rÃ¼lme zamanÄ±

---

## ğŸ› ï¸ YENÄ° FONKSÄ°YONLAR

### KullanÄ±cÄ± FonksiyonlarÄ±
- `request_account_deletion()` - Hesap silme talebi
- `cancel_account_deletion()` - Hesap silme iptali
- `download_user_data()` - Veri indirme (GDPR)
- `get_user_settings(user_id)` - AyarlarÄ± getir
- `update_user_settings(settings_data)` - AyarlarÄ± gÃ¼ncelle

### Admin FonksiyonlarÄ±
- `approve_selfie_verification(verification_id)` - Selfie onayla
- `approve_identity_verification(verification_id)` - Kimlik onayla
- `get_system_stats()` - Sistem istatistikleri

---

## ğŸ”’ GÃœVENLÄ°K

### Row Level Security (RLS)
TÃ¼m yeni tablolar iÃ§in RLS politikalarÄ± eklendi:
- âœ… KullanÄ±cÄ±lar sadece kendi verilerini gÃ¶rebilir
- âœ… Adminler doÄŸrulama taleplerini gÃ¶rebilir
- âœ… Engellemeler Ã¶zel tutulur
- âœ… Oturum bilgileri korunur

### Trigger'lar
- âœ… Otomatik ayar oluÅŸturma (yeni kullanÄ±cÄ± kaydÄ±nda)
- âœ… Hesap silme zamanlayÄ±cÄ± (7 gÃ¼n)
- âœ… Otomatik zaman damgasÄ± gÃ¼ncellemeleri

---

## ğŸ“‹ KURULUM TALÄ°MATLARI

### 1. Supabase SQL EditÃ¶r
`constants/supabase-schema.sql` dosyasÄ±ndaki tÃ¼m kodu Supabase SQL Editor'e yapÄ±ÅŸtÄ±rÄ±n ve Ã§alÄ±ÅŸtÄ±rÄ±n.

### 2. Storage Bucket'larÄ±
Supabase Dashboard > Storage bÃ¶lÃ¼mÃ¼nden ÅŸu bucket'larÄ± oluÅŸturun:
- `avatars` (public)
- `selfies` (private)
- `verification` (private)
- `posts` (public)
- `events` (public)
- `businesses` (public)

### 3. Authentication
Supabase Dashboard > Authentication:
- Google OAuth'u etkinleÅŸtirin
- Email Templates'i dÃ¼zenleyin
- Magic Link'i etkinleÅŸtirin

### 4. Environment Variables
`.env` dosyanÄ±za ekleyin:
```bash
EXPO_PUBLIC_SUPABASE_URL=your_supabase_url
EXPO_PUBLIC_SUPABASE_ANON_KEY=your_anon_key
SUPABASE_SERVICE_ROLE_KEY=your_service_role_key
```

### 5. Admin Åifresi
VarsayÄ±lan admin ÅŸifresini deÄŸiÅŸtirin:
- Email: `sonertoprak@litxtech.com`
- Åifre: `admin123` (âš ï¸ Ã–NEMLÄ°: Hemen deÄŸiÅŸtirin!)

---

## ğŸ¯ KULLANIM Ã–RNEKLERÄ°

### AyarlarÄ± GÃ¼ncelleme
```typescript
import { supabase } from '@/lib/supabase';

// Gizlilik ayarlarÄ±nÄ± gÃ¼ncelle
const { data, error } = await supabase.rpc('update_user_settings', {
  settings_data: {
    profile_visibility: 'friends',
    show_phone: false,
    allow_messages_from: 'friends',
    push_enabled: true
  }
});
```

### Hesap Silme Talebi
```typescript
// Hesap silme talebi oluÅŸtur
const { data, error } = await supabase.rpc('request_account_deletion');

// Hesap silme talebini iptal et
const { data, error } = await supabase.rpc('cancel_account_deletion');
```

### Veri Ä°ndirme
```typescript
// TÃ¼m verileri JSON olarak indir
const { data, error } = await supabase.rpc('download_user_data');
console.log(data); // JSON formatÄ±nda tÃ¼m veriler
```

### KullanÄ±cÄ± Engelleme
```typescript
// KullanÄ±cÄ±yÄ± engelle
await supabase.from('blocked_users').insert({
  blocked_id: userId,
  reason: 'Spam iÃ§erik paylaÅŸÄ±mÄ±'
});

// Engeli kaldÄ±r
await supabase.from('blocked_users').delete().eq('blocked_id', userId);
```

### Selfie DoÄŸrulama (Admin)
```typescript
// Selfie doÄŸrulamayÄ± onayla
const { data, error } = await supabase.rpc('approve_selfie_verification', {
  verification_id: verificationId,
  confidence_score: 0.95
});
```

---

## ğŸš€ Ã–NERÄ°LEN SONRAKI ADIMLAR

1. **UI GeliÅŸtirme**
   - Ayarlar sayfasÄ± tasarÄ±mÄ±
   - Profil doÄŸrulama akÄ±ÅŸÄ±
   - Ä°statistik dashboard'u

2. **Bildirim Sistemi**
   - Push notification entegrasyonu
   - Email notification servisi
   - SMS servisi entegrasyonu

3. **Admin Paneli**
   - DoÄŸrulama istekleri yÃ¶netimi
   - KullanÄ±cÄ± moderasyonu
   - Ä°statistik raporlarÄ±

4. **Test**
   - Unit testler
   - Integration testler
   - E2E testler

---

## ğŸ“ DESTEK

SorularÄ±nÄ±z iÃ§in:
- **Email:** support@litxtech.com
- **Tel:** +1 307 271 5151
- **Web:** https://www.litxtech.com

---

## ğŸ“ NOTLAR

- âœ… TÃ¼m yeni Ã¶zellikler GDPR uyumlu
- âœ… Row Level Security ile tam gÃ¼venlik
- âœ… TÃ¼rkÃ§e dil desteÄŸi
- âœ… Mobile-first tasarÄ±m
- âœ… Real-time gÃ¼ncellemeler
- âœ… Performans optimize edilmiÅŸ indexler

**Son GÃ¼ncelleme:** 2025-01-10
**Versiyon:** 2.0.0
